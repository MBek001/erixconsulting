{% extends 'base.html' %}
{% load static %}

{% block title %}Blog - Eric's Consulting{% endblock %}

{% block content %}
<!-- Blog Hero Section -->
<section class="hero-section" style="background: var(--gradient-primary); padding: 100px 0 60px;">
    <div class="container text-center">
        <h1 class="display-4 text-white mb-3 wow fadeInDown" data-wow-delay="0.1s">
            <i class="fas fa-blog me-3"></i>Our Blog
        </h1>
        <p class="lead text-white mb-0 wow fadeInUp" data-wow-delay="0.2s">
            Insights, Updates, and Expert Knowledge
        </p>
    </div>
</section>

<!-- Blog Posts Section -->
<section class="section-padding bg-light">
    <div class="container">
        {% if blogs %}
            <div class="row g-4">
                {% for post in blogs %}
                <div class="col-lg-6 col-md-6 wow fadeInUp" data-wow-delay="0.{{ forloop.counter }}s">
                    <div class="blog-card" style="background: var(--white); border-radius: var(--radius-xl); overflow: hidden; box-shadow: var(--shadow); transition: var(--transition); height: 100%;">
                        <!-- Blog Media -->
                        {% if post.file %}
                            <div class="blog-media" style="position: relative; overflow: hidden; height: 300px; background: var(--gray-200);">
                                {% if post.file.url|slice:"-4:" == ".mp4" or post.file.url|slice:"-4:" == ".mov" %}
                                    <video controls style="width: 100%; height: 100%; object-fit: cover;">
                                        <source src="{{ post.file.url }}" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                {% elif post.file.url|slice:"-4:" == ".jpg" or post.file.url|slice:"-4:" == ".png" or post.file.url|slice:"-5:" == ".jpeg" or post.file.url|slice:"-4:" == ".gif" %}
                                    <img src="{{ post.file.url }}" alt="{{ post.theme }}" style="width: 100%; height: 100%; object-fit: cover; transition: var(--transition);">
                                {% else %}
                                    <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: var(--gradient-primary);">
                                        <i class="fas fa-file-alt" style="font-size: 4rem; color: var(--white);"></i>
                                    </div>
                                {% endif %}
                            </div>
                        {% else %}
                            <div class="blog-media" style="position: relative; overflow: hidden; height: 300px; background: var(--gradient-primary); display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-newspaper" style="font-size: 5rem; color: rgba(255,255,255,0.3);"></i>
                            </div>
                        {% endif %}

                        <!-- Blog Content -->
                        <div style="padding: 2rem;">
                            <!-- Blog Meta -->
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; color: var(--gray-500); font-size: 0.875rem;">
                                <span><i class="far fa-calendar-alt me-1"></i>{{ post.created_at|date:"F j, Y" }}</span>
                                <span><i class="far fa-clock me-1"></i>{{ post.created_at|date:"g:i A" }}</span>
                            </div>

                            <!-- Blog Title -->
                            <h3 style="font-size: 1.5rem; font-weight: 700; color: var(--dark); margin-bottom: 1rem; line-height: 1.4;">
                                {{ post.theme }}
                            </h3>

                            <!-- Blog Excerpt -->
                            <p style="color: var(--gray-600); font-size: 0.9375rem; line-height: 1.7; margin-bottom: 1.5rem;">
                                {{ post.content|truncatewords:25 }}
                            </p>

                            <!-- Read More Button -->
                            <a href="#" class="btn-read-more" style="display: inline-flex; align-items: center; gap: 0.5rem; color: var(--primary); font-weight: 600; transition: var(--transition); text-decoration: none;">
                                Read Full Article
                                <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <!-- Empty State -->
            <div class="text-center py-5 wow fadeInUp">
                <div style="background: var(--white); border-radius: var(--radius-xl); padding: 4rem 2rem; box-shadow: var(--shadow);">
                    <i class="fas fa-newspaper" style="font-size: 5rem; color: var(--gray-300); margin-bottom: 2rem;"></i>
                    <h3 style="color: var(--dark); margin-bottom: 1rem;">No Blog Posts Yet</h3>
                    <p style="color: var(--gray-600); font-size: 1.125rem; max-width: 500px; margin: 0 auto;">
                        Stay tuned! We're working on bringing you valuable insights and updates soon.
                    </p>
                </div>
            </div>
        {% endif %}
    </div>
</section>

<style>
/* Blog Card Hover Effect */
.blog-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
}

.blog-card:hover img {
    transform: scale(1.1);
}

/* Read More Button Hover */
.btn-read-more:hover {
    gap: 0.75rem;
    color: var(--primary-dark);
}

/* Video Controls */
.blog-card video::-webkit-media-controls-panel {
    background: linear-gradient(transparent, rgba(0,0,0,0.5));
}

/* Responsive */
@media (max-width: 768px) {
    .blog-media {
        height: 220px !important;
    }

    .hero-section {
        padding: 80px 0 40px !important;
    }

    .hero-section h1 {
        font-size: 2rem !important;
    }
}
</style>
{% endblock %}
